<!DOCTYPE html>
<html>
  <head>
    <title>Green Cart - charity shopping</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link href='//fonts.googleapis.com/css?family=Dosis' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="default.css">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no"/>
  </head>
  <body>
    <img id="bg-image-container" class="ai"/>
    <div class="header">
      <h1>
        Green Cart
      </h1>
    </div>
    <div class="content">
      <h2>Kaufe bei</h2>
      <form method="GET" action="http://www.amazon.de/s/">
        <input class="keyword-input" type="text" name="field-keywords" placeholder="Amazon Produktsuche" />
        <button>
          <img src="/assets/Amazon.png">
        </button>
        <input type="hidden" name="tag" value="bkone-20"/>
      </form>
      <h2>und unterstutze damit</h2>
      <div id='slider' class='swipe'>
        <div class='swipe-wrap'>
          <div><img src="assets/logos/ai.png" /></div>
          <div><img src="assets/logos/aog.png" /></div>
          <div><img src="assets/logos/ov.png" /></div>
          <div><img src="assets/logos/unicef.png" /></div>
        </div>
      </div>
      <div class="nav">
        <a rel="prev" class="arrows prev">&lt;</a>
        <a rel="next" class="arrows next">&gt;</a>
      </div>
    </div>
    <div class="footer">
      <a href="">Ãœber Greencart</a>
      <a href="">Impressum</a>
    </div>
  </body>
  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/zepto/1.0/zepto.min.js"></script>
  <script type="text/javascript" src="assets/swipe.js"></script>
  <script type="text/javascript">
    var charityTags = ['bkone-20', 'bkone-21','bkone-22','bkone-23'];

    function preload(arrayOfImages) {
      $(arrayOfImages).each(function(){
        $('<img/>')[0].src = this;
      });
    }

    $(function(){
      preload([
        '/assets/charities/ai.jpg',
        '/assets/charities/aog.jpg',
        '/assets/charities/ov.jpg',
        '/assets/charities/unicef.jpg'
      ]);

      var ogs = ['ai', 'aog', 'ov', 'unicef'];
      var index = 0;
      var $bg = $('#bg-image-container');

      next = function(goTo) {
        if(goTo == index) {
          return;
        }
        else if(goTo >= 0) {
          var nextIndex = goTo;
        }
        else {
          var nextIndex = (index == ogs.length - 1 ? 0 : index + 1);
        }
        var nextClass = ogs[nextIndex];
        var prevClass = $bg[0].className;
        $bg.removeClass();
        $bg.addClass(nextClass);
        index = nextIndex;
      };

      $('.next').click(function() { mySwipe.next(); });
      $('.prev').click(function() { mySwipe.prev(); });

      window.mySwipe = new Swipe(document.getElementById('slider'), {
        disableScroll: true,
        callback: function(index, elem) {
          next(index);
          $('input[name="tag"]').val(charityTags[index]);
        }
      });

    });

  </script>
</html>

